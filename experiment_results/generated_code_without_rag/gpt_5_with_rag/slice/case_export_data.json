{
  "path": "",
  "name": "",
  "prompt": "Generate an HTML page using vtk.js to visualize the rotor dataset._x000d_\n_x000d_\n- Load the dataset from: http://127.0.0.1:5000/dataset/rotor.vti_x000d_\n- Set the active scalar array to \"Pressure\"._x000d_\n- Apply a slice along the Y axis at 95% depth of the dataset (convert percentage to slice index)._x000d_\n- Use a blue → white → red color map for pressure values, spanning from the minimum to maximum scalar range._x000d_\n- Set opacity to fully opaque (no transparency variation)._x000d_\n- Add an orientation marker with XYZ axes in the bottom-right corner._x000d_\n- No interactive GUI controls are required._x000d_\n",
  "ground_truth": "<!DOCTYPE html>_x000d_\n<html lang=\"en\">_x000d_\n_x000d_\n<head>_x000d_\n<meta charset=\"UTF-8\">_x000d_\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">_x000d_\n<title>Rotor Dataset Cutting Rendering</title>_x000d_\n<style>_x000d_\nbody,_x000d_\nhtml {_x000d_\nmargin: 0;_x000d_\npadding: 0;_x000d_\nwidth: 100%;_x000d_\nheight: 100%;_x000d_\noverflow: hidden;_x000d_\n}_x000d_\n_x000d_\n#renderer {_x000d_\nwidth: 100%;_x000d_\nheight: 100%;_x000d_\n}_x000d_\n</style>_x000d_\n</head>_x000d_\n_x000d_\n<body>_x000d_\n<div id=\"renderer\"></div>_x000d_\n<script src=\"https://unpkg.com/vtk.js@34.10.0/vtk.js\"></script>_x000d_\n<script>_x000d_\nconst vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;_x000d_\nconst vtkActor = vtk.Rendering.Core.vtkActor;_x000d_\nconst vtkMapper = vtk.Rendering.Core.vtkMapper;_x000d_\nconst vtkXMLImageDataReader = vtk.IO.XML.vtkXMLImageDataReader;_x000d_\nconst vtkPlane = vtk.Common.DataModel.vtkPlane;_x000d_\nconst vtkColorTransferFunction = vtk.Rendering.Core.vtkColorTransferFunction;_x000d_\n_x000d_\nconst fullScreenRenderWindow = vtkFullScreenRenderWindow.newInstance({_x000d_\nbackground: [1, 1, 1],_x000d_\n});_x000d_\nconst renderWindow = fullScreenRenderWindow.getRenderWindow();_x000d_\nconst renderer = fullScreenRenderWindow.getRenderer();_x000d_\n_x000d_\nconst reader = vtkXMLImageDataReader.newInstance();_x000d_\nreader.setUrl('http://127.0.0.1:5000/dataset/rotor_simplified.vti').then(() => {_x000d_\nreader.loadData().then(() => {_x000d_\nconst imageData = reader.getOutputData(0);_x000d_\nimageData.getPointData().setActiveScalars('Pressure');_x000d_\n_x000d_\nconst vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;_x000d_\nconst vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;_x000d_\n_x000d_\nconst imageMapper = vtkImageMapper.newInstance();_x000d_\nimageMapper.setInputData(imageData);_x000d_\nconst dims = imageData.getDimensions();_x000d_\nimageMapper.setSlice(dims[1] * 0.95);_x000d_\nimageMapper.setSlicingMode(1); //(0:X, 1:Y, 2:Z)_x000d_\n_x000d_\nconst pressureArray = imageData.getPointData().getArrayByName('Pressure');_x000d_\nconst [pMin, pMax] = pressureArray.getRange();_x000d_\nconst colorTransferFunction = vtkColorTransferFunction.newInstance();_x000d_\ncolorTransferFunction.addRGBPoint(pMin, 0.0, 0.0, 0.8);_x000d_\ncolorTransferFunction.addRGBPoint((pMin + pMax) / 2, 1.0, 1.0, 1.0);_x000d_\ncolorTransferFunction.addRGBPoint(pMax, 0.8, 0.0, 0.0);_x000d_\n_x000d_\n// Add opacity transfer function_x000d_\nconst vtkPiecewiseFunction = vtk.Common.DataModel.vtkPiecewiseFunction;_x000d_\nconst opacityFunction = vtkPiecewiseFunction.newInstance();_x000d_\nopacityFunction.addPoint(pMin, 1.0);_x000d_\nopacityFunction.addPoint(pMax, 1.0);_x000d_\n_x000d_\nconst imageSlice = vtkImageSlice.newInstance();_x000d_\nimageSlice.setMapper(imageMapper);_x000d_\nimageSlice.getProperty().setRGBTransferFunction(0, colorTransferFunction);_x000d_\nimageSlice.getProperty().setPiecewiseFunction(0, opacityFunction); // Set opacity function_x000d_\nimageSlice.getProperty().setScalarOpacity(0, opacityFunction); // Set scalar opacity_x000d_\nimageSlice.getProperty().setUseLookupTableScalarRange(true);_x000d_\n_x000d_\nrenderer.addActor(imageSlice);_x000d_\n_x000d_\nconst axes = vtk.Rendering.Core.vtkAxesActor.newInstance();_x000d_\nconst widget = vtk.Interaction.Widgets.vtkOrientationMarkerWidget.newInstance({_x000d_\nactor: axes,_x000d_\ninteractor: renderWindow.getInteractor(),_x000d_\n});_x000d_\nwidget.setEnabled(true);_x000d_\nwidget.setViewportCorner(_x000d_\nvtk.Interaction.Widgets.vtkOrientationMarkerWidget.Corners.BOTTOM_RIGHT_x000d_\n);_x000d_\nwidget.setViewportSize(0.15);_x000d_\n_x000d_\nrenderer.resetCamera();_x000d_\nrenderer.resetCameraClippingRange();_x000d_\nrenderWindow.render();_x000d_\n});_x000d_\n});_x000d_\n</script>_x000d_\n</body>_x000d_\n_x000d_\n</html>",
  "generated_code": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>VTK.js Rotor Pressure Y-Slice (95%)</title>\n  <style>\n    /* Ensure the renderer uses the full window with a neutral dark background */\n    html, body {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n      overflow: hidden;\n      background: #1e1e1e;\n    }\n  </style>\n</head>\n<body>\n  <!-- No GUI controls as requested. Rendering will be full-screen. -->\n\n  <!-- Use the specified VTK.js version from CDN -->\n  <script src=\"https://unpkg.com/vtk.js@34.10.0/vtk.js\"></script>\n  <script>\n    // Import needed VTK.js classes from the global vtk object\n    const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;\n    const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;\n    const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;\n    const vtkColorTransferFunction = vtk.Rendering.Core.vtkColorTransferFunction;\n    const vtkPiecewiseFunction = vtk.Common.DataModel.vtkPiecewiseFunction;\n    const vtkXMLImageDataReader = vtk.IO.XML.vtkXMLImageDataReader;\n    const vtkAxesActor = vtk.Rendering.Core.vtkAxesActor;\n    const vtkOrientationMarkerWidget = vtk.Interaction.Widgets.vtkOrientationMarkerWidget;\n\n    // ----------------------------------------------------------------------------\n    // Create the rendering scene\n    // ----------------------------------------------------------------------------\n    const fullScreenRenderWindow = vtkFullScreenRenderWindow.newInstance({\n      background: [0.1, 0.1, 0.1], // neutral background for good contrast\n    });\n    const renderer = fullScreenRenderWindow.getRenderer();\n    const renderWindow = fullScreenRenderWindow.getRenderWindow();\n\n    // ----------------------------------------------------------------------------\n    // Create an orientation marker (XYZ axes) in the bottom-right corner\n    // Requirement: \"Add an orientation marker with XYZ axes in the bottom-right corner.\"\n    // ----------------------------------------------------------------------------\n    const axes = vtkAxesActor.newInstance();\n    const omw = vtkOrientationMarkerWidget.newInstance({\n      actor: axes,\n      interactor: renderWindow.getInteractor(),\n    });\n    omw.setEnabled(true);\n    omw.setViewportCorner(vtkOrientationMarkerWidget.Corners.BOTTOM_RIGHT);\n    omw.setViewportSize(0.2);\n    omw.setMinPixelSize(80);\n    omw.setMaxPixelSize(200);\n\n    // ----------------------------------------------------------------------------\n    // Create actor and mapper for a single slice visualization\n    // ----------------------------------------------------------------------------\n    const imageActor = vtkImageSlice.newInstance();\n    const imageMapper = vtkImageMapper.newInstance();\n    imageActor.setMapper(imageMapper);\n\n    // Add actor now; we'll configure it after data loads\n    renderer.addActor(imageActor);\n\n    // ----------------------------------------------------------------------------\n    // Load the VTI dataset with vtkXMLImageDataReader (not HttpDatasetReader)\n    // Requirement: \"The data format ... is vti ... use vtkXMLImageDataReader\"\n    // Requirement: \"Load the dataset from: http://127.0.0.1:5000/dataset/rotor.vti\"\n    // ----------------------------------------------------------------------------\n    const dataUrl = 'http://127.0.0.1:5000/dataset/rotor.vti';\n    const reader = vtkXMLImageDataReader.newInstance();\n\n    // Fetch the VTI file as an ArrayBuffer and parse it with the XML reader\n    fetch(dataUrl)\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(`Failed to fetch VTI file: ${res.status} ${res.statusText}`);\n        }\n        return res.arrayBuffer();\n      })\n      .then((arrayBuffer) => {\n        reader.parseAsArrayBuffer(arrayBuffer);\n\n        // Retrieve the loaded vtkImageData\n        const imageData = reader.getOutputData(0);\n\n        // ----------------------------------------------------------------------------\n        // Set the active scalar array to \"Pressure\"\n        // Requirement: \"Set the active scalar array to 'Pressure'.\"\n        // ----------------------------------------------------------------------------\n        const pd = imageData.getPointData();\n        const pressureArray = pd.getArrayByName('Pressure');\n        if (pressureArray) {\n          pd.setActiveScalars('Pressure');\n        } else {\n          // If 'Pressure' is not found, fall back to current active scalars\n          console.warn(\"Pressure array not found in point data. Using current active scalars.\");\n        }\n\n        // ----------------------------------------------------------------------------\n        // Apply a slice along the Y axis (J-slice) at 95% depth\n        // Requirement: \"Apply a slice along the Y axis at 95% depth of the dataset (convert percentage to slice index).\"\n        // ----------------------------------------------------------------------------\n        const extent = imageData.getExtent(); // [xmin, xmax, ymin, ymax, zmin, zmax]\n        const yMin = extent[2];\n        const yMax = extent[3];\n        const ySliceIndex = Math.round(yMin + 0.95 * (yMax - yMin)); // 95% position converted to slice index\n        imageMapper.setInputData(imageData);\n        imageMapper.setJSlice(ySliceIndex); // Slice along Y axis\n\n        // ----------------------------------------------------------------------------\n        // Configure color mapping: blue -> white -> red across the pressure range\n        // Requirement: \"Use a blue → white → red color map for pressure values,\n        // spanning from the minimum to maximum scalar range.\"\n        // ----------------------------------------------------------------------------\n        // Compute scalar range for 'Pressure' (fallback to active scalars if needed)\n        const scalarArray = pressureArray || pd.getScalars();\n        const [minS, maxS] = scalarArray ? scalarArray.getRange() : [0, 1];\n        const midS = 0.5 * (minS + maxS);\n\n        const ctf = vtkColorTransferFunction.newInstance();\n        ctf.setMappingRange(minS, maxS);\n        // Blue at minimum\n        ctf.addRGBPoint(minS, 0.0, 0.0, 1.0);\n        // White at midpoint\n        ctf.addRGBPoint(midS, 1.0, 1.0, 1.0);\n        // Red at maximum\n        ctf.addRGBPoint(maxS, 1.0, 0.0, 0.0);\n\n        // ----------------------------------------------------------------------------\n        // Set opacity to fully opaque (no transparency variation)\n        // Requirement: \"Set opacity to fully opaque (no transparency variation).\"\n        // ----------------------------------------------------------------------------\n        const ofun = vtkPiecewiseFunction.newInstance();\n        ofun.addPoint(minS, 1.0);\n        ofun.addPoint(maxS, 1.0);\n\n        const prop = imageActor.getProperty();\n        prop.setRGBTransferFunction(0, ctf);\n        prop.setScalarOpacity(0, ofun);\n        prop.setUseLookupTableScalarRange(true); // Ensures we use full [min,max] range from CTF\n        prop.setOpacity(1.0); // Overall fully opaque\n\n        // ----------------------------------------------------------------------------\n        // Adjust camera to view the Y-slice head-on (so the slice is visible immediately)\n        // The Y-slice (J-slice) lies in the XZ plane; we look along +Y direction.\n        // ----------------------------------------------------------------------------\n        renderer.resetCamera();\n        const camera = renderer.getActiveCamera();\n        const center = imageData.getCenter(); // World-space center of the data\n        const dist = camera.getDistance(); // Use current distance for a good framing\n        camera.setFocalPoint(center[0], center[1], center[2]);\n        camera.setPosition(center[0], center[1] + dist, center[2]); // Look along +Y towards the center\n        camera.setViewUp(0, 0, 1);\n\n        // Render the scene\n        renderer.resetCameraClippingRange();\n        renderWindow.render();\n      })\n      .catch((err) => {\n        console.error('Error loading or rendering the dataset:', err);\n      });\n\n    // No interactive GUI controls are added, as per the requirement.\n  </script>\n</body>\n</html>",
  "generator_prompt": "You are a VTK.js visualization expert. Based on the user's requirements and the provided VTK.js examples, generate complete and functional HTML code that meets all specified requirements.\n    Please follow these guidelines:\n    1. Generate complete HTML code that can run independently\n    2. Use the VTK.js library from CDN (https://unpkg.com/vtk.js@34.10.0/vtk.js)\n    3. Implement ALL requirements specified in the user question\n    4. Add detailed comments explaining how each requirement is implemented\n    5. Ensure the visualization is displayed properly without UI controls unless specifically requested\n    6. Pay special attention to data loading paths and visualization parameters\n    7. The data format for generating code is vti format, please use the correct IO module,The system reading method does not support HttpDatasetReader. Please use another appropriate module, such as vtkXMLImageDataReader\n    Important: Highlight in comments how each specific user requirement is addressed in the code.\n",
  "final_prompt": "\nGenerate only the HTML code without any additional text.\nUser Requirements:\nGenerate an HTML page using vtk.js to visualize the rotor dataset._x000d_\n_x000d_\n- Load the dataset from: http://127.0.0.1:5000/dataset/rotor.vti_x000d_\n- Set the active scalar array to \"Pressure\"._x000d_\n- Apply a slice along the Y axis at 95% depth of the dataset (convert percentage to slice index)._x000d_\n- Use a blue → white → red color map for pressure values, spanning from the minimum to maximum scalar range._x000d_\n- Set opacity to fully opaque (no transparency variation)._x000d_\n- Add an orientation marker with XYZ axes in the bottom-right corner._x000d_\n- No interactive GUI controls are required._x000d_\n\n\nRelevant VTK.js Examples:\n\n--------------------------------------------------------------------------------Example 1 (Score: 10.00, Matches: vtkImageMapper, vtkImageSlice):\nDescription: Displays a 2D image volume with an outlined labelmap. Specific regions (high/low values) are highlighted in red/green with transparent outlines.\n\nModules: vtk.Common.Core.vtkDataArray, vtk.Common.DataModel.vtkDataSet.FieldAssociations, vtk.Common.DataModel.vtkDataSetAttributes.AttributeTypes, vtk.Common.DataModel.vtkImageData, vtk.Common.DataModel.vtkPiecewiseFunction, vtk.Filters.General.vtkCalculator, vtk.Rendering.Core.vtkActor, vtk.Rendering.Core.vtkColorTransferFunction, vtk.Rendering.Core.vtkImageMapper, vtk.Rendering.Core.vtkImageSlice, vtk.Rendering.Misc.vtkFullScreenRenderWindow\nCode:\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>vtk.js ImageLabelOutline</title>\n    <style>\n        #renderer {\n            width: 100%;\n            height: 600px;\n            background-color: #333;\n        }\n    </style>\n</head>\n\n<body>\n    <div id=\"renderer\"></div>\n    <script src=\"https://unpkg.com/vtk.js\"></script>\n    <script>\n        // Use the vtk namespace to reference each class\n        const vtkActor = vtk.Rendering.Core.vtkActor;\n        const vtkCalculator = vtk.Filters.General.vtkCalculator;\n        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;\n        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;\n        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;\n        const vtkImageData = vtk.Common.DataModel.vtkImageData;\n        const vtkDataArray = vtk.Common.Core.vtkDataArray;\n        const vtkColorTransferFunction = vtk.Rendering.Core.vtkColorTransferFunction;\n        const vtkPiecewiseFunction = vtk.Common.DataModel.vtkPiecewiseFunction;\n\n        // Use the vtk namespace to reference constants\n        const AttributeTypes = vtk.Common.DataModel.vtkDataSetAttributes.AttributeTypes;\n        const FieldDataTypes = vtk.Common.DataModel.vtkDataSet.FieldAssociations;\n\n        const fullScreenRenderWindow = vtkFullScreenRenderWindow.newInstance({\n            background: [0.5, 0.5, 0.5],\n        });\n        const renderWindow = fullScreenRenderWindow.getRenderWindow();\n        const renderer = fullScreenRenderWindow.getRenderer();\n\n        const BACKGROUND = 0;\n        const LOW_VALUE = 80;\n        const HIGH_VALUE = 160;\n\n        const FIRST_SEGMENT = 1;\n        const SECOND_SEGMENT = 5;\n\n        /**\n         * Creates a labelmap image with the same dimensions as the background volume.\n         * @param {vtkImageData} backgroundImageData - The background volume data.\n         * @returns {Object} An object containing the labelmap actor, mapper, image data, color transfer function, and opacity function.\n         */\n        function createLabelmap(backgroundImageData) {\n            // Create a labelmap image the same dimensions as our background volume.\n            const labelMapData = vtkImageData.newInstance(\n                backgroundImageData.get('spacing', 'origin', 'direction')\n            );\n\n            labelMapData.computeTransforms();\n\n            const dataArray = vtkDataArray.newInstance({\n                numberOfComponents: 1,\n                values: new Uint8Array(backgroundImageData.getNumberOfPoints()),\n            });\n            labelMapData.getPointData().setScalars(dataArray);\n\n            labelMapData.setDimensions(...backgroundImageData.getDimensions());\n            labelMapData.setSpacing(...backgroundImageData.getSpacing());\n            labelMapData.setOrigin(...backgroundImageData.getOrigin());\n            labelMapData.setDirection(...backgroundImageData.getDirection());\n            const mapper = vtkImageMapper.newInstance();\n            mapper.setInputData(labelMapData);\n\n            const actor = vtkImageSlice.newInstance();\n\n            actor.setMapper(mapper);\n\n            const labelMap = {\n                actor,\n                mapper,\n                imageData: labelMapData,\n                cfun: vtkColorTransferFunction.newInstance(),\n                ofun: vtkPiecewiseFunction.newInstance(),\n            };\n\n            // Labelmap pipeline\n            labelMap.mapper.setInputData(labelMapData);\n            labelMap.actor.setMapper(labelMap.mapper);\n\n            // Set up labelMap color and opacity mapping\n            labelMap.cfun.addRGBPoint(0, 0, 0, 0); // label \"1\" will be red\n            labelMap.cfun.addRGBPoint(FIRST_SEGMENT, 1, 0, 0); // label \"1\" will be red\n            labelMap.cfun.addRGBPoint(SECOND_SEGMENT, 0, 1, 0); // label \"5\" will be green\n            labelMap.ofun.addPoint(0, 0);\n            labelMap.ofun.addPoint(FIRST_SEGMENT, 0.1); // Red will have an opacity of 0.1.\n            labelMap.ofun.addPoint(SECOND_SEGMENT, 0.1); // Green will have an opacity of 0.1.\n\n            labelMap.actor.getProperty().setRGBTransferFunction(0, labelMap.cfun);\n            labelMap.actor.getProperty().setScalarOpacity(0, labelMap.ofun);\n            labelMap.actor.getProperty().setInterpolationTypeToNearest();\n\n            labelMap.actor.getProperty().setUseLabelOutline(true);\n            // Label outline thickness is for first segment -> 2 (positioned at array index 0), second segment -> 4\n            // (positioned at array index 4)\n            labelMap.actor.getProperty().setLabelOutlineThickness([2, 1, 1, 1, 4]);\n            labelMap.actor.getProperty().setLabelOutlineOpacity(1.0);\n\n            // This is very important to make sure the labelmap is rendered\n            // correctly\n            labelMap.actor.getProperty().setUseLookupTableScalarRange(true);\n\n            const dims = labelMap.imageData.getDimensions();\n            const values = labelMap.imageData.getPointData().getScalars().getData();\n\n            const backgroundValues = backgroundImageData\n                .getPointData()\n                .getScalars()\n                .getData();\n            const size = dims[0] * dims[1] * dims[2];\n\n            for (let i = 0; i < size; i++) {\n                if (backgroundValues[i] === LOW_VALUE) {\n                    values[i] = FIRST_SEGMENT;\n                } else if (backgroundValues[i] === HIGH_VALUE) {\n                    values[i] = SECOND_SEGMENT;\n                }\n            }\n\n            labelMap.imageData.getPointData().getScalars().setData(values);\n\n            return labelMap;\n        }\n\n        // Create a one slice vtkImageData that has four quadrants of different values\n        const imageData = vtkImageData.newInstance();\n        const dims = [10, 10, 1];\n        imageData.setSpacing(1, 1, 1);\n        imageData.setOrigin(0.1, 0.1, 0.1);\n        imageData.setDirection(1, 0, 0, 0, 1, 0, 0, 0, 1);\n        imageData.setExtent(0, dims[0] - 1, 0, dims[1] - 1, 0, dims[2] - 1);\n\n        imageData.computeTransforms();\n\n        const values = new Uint8Array(dims[0] * dims[1] * dims[2]);\n\n        let i = 0;\n        for (let y = 0; y < dims[1]; y++) {\n            for (let x = 0; x < dims[0]; x++, i++) {\n                if ((x < 3 && y < 3) || (x > 7 && y > 7)) {\n                    values[i] = BACKGROUND;\n                } else if (x > 4 && x < 6 && y > 4 && y < 7) {\n                    values[i] = LOW_VALUE;\n                } else {\n                    values[i] = HIGH_VALUE;\n                }\n            }\n        }\n\n        const dataArray = vtkDataArray.newInstance({\n            numberOfComponents: 1,\n            values,\n        });\n        imageData.getPointData().setScalars(dataArray);\n        imageData.modified();\n\n        const data = imageData;\n        const labelMap = createLabelmap(data);\n\n        const actor = vtkImageSlice.newInstance();\n        const mapper = vtkImageMapper.newInstance();\n        mapper.setInputData(data);\n        actor.setMapper(mapper);\n        actor.getProperty().setInterpolationTypeToNearest();\n\n        renderer.addActor(actor);\n        renderer.addActor(labelMap.actor);\n        renderer.resetCamera();\n        renderer.resetCameraClippingRange();\n        renderWindow.render();\n\n        window.fullScreen = fullScreenRenderWindow;\n\n    </script>\n</body>\n\n</html>\n\nExample 2 (Score: 10.00, Matches: vtkImageMapper, vtkImageSlice):\nDescription: Generates and displays a 2D random image (100x100) using `vtkImageSlice` and `vtkImageMapper`.\n\nModules: vtk.Common.Core.vtkDataArray.newInstance, vtk.Common.DataModel.vtkImageData, vtk.Rendering.Core.vtkImageMapper, vtk.Rendering.Core.vtkImageSlice, vtk.Rendering.Misc.vtkFullScreenRenderWindow\nCode:\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    </style>\n</head>\n\n<body>\n    <div id=\"renderer\"></div>\n    <script src=\"https://unpkg.com/vtk.js\"></script>\n    <script>\n        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;\n        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;// Actor for rendering 2D image slices\n        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;\n        const vtkImageData = vtk.Common.DataModel.vtkImageData;\n\n        // Create render window\n        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });\n        const renderer = fullScreenRenderer.getRenderer();\n        const renderWindow = fullScreenRenderer.getRenderWindow();\n\n        // Create image data\n        const imageData = vtkImageData.newInstance();\n        imageData.setDimensions(100, 100, 1);\n        imageData.setSpacing(1.0, 1.0, 1.0);\n        imageData.setOrigin(0.0, 0.0, 0.0);\n\n        // Set pixel values for image data\n        const scalars = new Uint8Array(100 * 100);\n        for (let i = 0; i < 100 * 100; i++) {\n            scalars[i] = Math.random() * 255;\n        }\n        imageData.getPointData().setScalars(vtk.Common.Core.vtkDataArray.newInstance({ values: scalars, numberOfComponents: 1 }));\n\n        // Create mapper and actor\n        const mapper = vtkImageMapper.newInstance();\n        mapper.setInputData(imageData);\n\n        const actor = vtkImageSlice.newInstance();\n        actor.setMapper(mapper);\n\n        // Add actor to renderer\n        renderer.addActor(actor);\n        renderer.resetCamera();\n        renderWindow.render();\n    </script>\n</body>\n\n</html>\n\n\nExample 3 (Score: 10.00, Matches: vtkImageMapper, vtkImageSlice):\nDescription: Loads a 3D volume and displays three orthogonal image slices (I, J, K planes) at the 30th layer using `vtkHttpDataSetReader` and `vtkImageSlice`.\n\nModules: vtk.IO.Core.vtkHttpDataSetReader, vtk.Rendering.Core.vtkImageMapper, vtk.Rendering.Core.vtkImageSlice, vtk.Rendering.Misc.vtkFullScreenRenderWindow\nCode:\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n</head>\n\n<body>\n    <div id=\"renderer\"></div>\n    <script src=\"https://unpkg.com/vtk.js\"></script>\n    <script>\n        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;\n        const vtkHttpDataSetReader = vtk.IO.Core.vtkHttpDataSetReader;\n        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;\n        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;\n        const dataPath = 'http://kitware.github.io/vtk-js/data/volume/headsq.vti';\n\n        const fullScreenRenderWindow = vtkFullScreenRenderWindow.newInstance({\n            background: [0, 0, 0],\n        });\n        const renderWindow = fullScreenRenderWindow.getRenderWindow();\n        const renderer = fullScreenRenderWindow.getRenderer();\n\n        const imageActorI = vtkImageSlice.newInstance();\n        const imageActorJ = vtkImageSlice.newInstance();\n        const imageActorK = vtkImageSlice.newInstance();\n\n        renderer.addActor(imageActorK);\n        renderer.addActor(imageActorJ);\n        renderer.addActor(imageActorI);\n\n        const reader = vtkHttpDataSetReader.newInstance({\n            fetchGzip: true,\n        });\n        reader\n            .setUrl(dataPath, { loadData: true })\n            .then(() => {\n                const data = reader.getOutputData();\n                const dataRange = data.getPointData().getScalars().getRange();\n                const extent = data.getExtent();\n\n                const imageMapperK = vtkImageMapper.newInstance();\n                imageMapperK.setInputData(data);\n                imageMapperK.setKSlice(30);\n                imageActorK.setMapper(imageMapperK);\n\n                const imageMapperJ = vtkImageMapper.newInstance();\n                imageMapperJ.setInputData(data);\n                imageMapperJ.setJSlice(30);\n                imageActorJ.setMapper(imageMapperJ);\n\n                const imageMapperI = vtkImageMapper.newInstance();\n                imageMapperI.setInputData(data);\n                imageMapperI.setISlice(30);\n                imageActorI.setMapper(imageMapperI);\n\n                renderer.resetCamera();\n                renderWindow.render();\n            });\n    </script>\n</body>\n\n</html>\n\nExample 4 (Score: 10.00, Matches: vtkImageMapper, vtkImageSlice):\nDescription: Displays a synthetic 2D image generated by `vtkRTAnalyticSource` using `vtkImageMapper` and `vtkImageSlice`.\nModules: vtk.Common.DataModel.vtkImageData, vtk.Filters.Sources.vtkRTAnalyticSource, vtk.Rendering.Core.vtkImageMapper, vtk.Rendering.Core.vtkImageSlice, vtk.Rendering.Misc.vtkFullScreenRenderWindow\nCode:\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    </style>\n</head>\n\n<body>\n    <div id=\"renderer\"></div>\n    <script src=\"https://unpkg.com/vtk.js\"></script>\n    <script>\n        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;\n        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;\n        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;\n        const vtkImageData = vtk.Common.DataModel.vtkImageData;\n\n        // create render window\n        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });\n        const renderer = fullScreenRenderer.getRenderer();\n        const renderWindow = fullScreenRenderer.getRenderWindow();\n\n        const vtkImgSource = vtk.Filters.Sources.vtkRTAnalyticSource;\n        const imgSource = vtkImgSource.newInstance();\n        imgSource.update();\n        const img = imgSource.getOutputData();\n\n        // set mapper and actor\n        const mapper = vtkImageMapper.newInstance();\n        mapper.setInputData(img);\n\n        const actor = vtkImageSlice.newInstance();\n        actor.setMapper(mapper);\n\n        // adding actor to render\n        renderer.addActor(actor);\n        renderer.resetCamera();\n        renderWindow.render();\n    </script>\n</body>\n\n</html>\n\nExample 5 (Score: 10.00, Matches: vtkImageMapper, vtkImageSlice):\nDescription: Loads a 3D volume (`headsq.vti`) and displays three orthogonal slices (I, J, K) with interactive controls for position and color properties.\n\nModules: vtk.IO.Core.vtkHttpDataSetReader, vtk.Rendering.Core.vtkImageMapper, vtk.Rendering.Core.vtkImageSlice, vtk.Rendering.Misc.vtkFullScreenRenderWindow\nCode:\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>vtk.js Isosurface Visualization</title>\n    <link rel=\"stylesheet\" href=\"https://kit.fontawesome.com/419a5ebb56.css\" crossorigin=\"anonymous\">\n    <style>\n        #renderer {\n            width: 100%;\n            height: 600px;\n            background-color: #333;\n        }\n    </style>\n</head>\n\n<body>\n    <div id=\"renderer\"></div>\n    <script src=\"https://unpkg.com/vtk.js\"></script>\n    <!-- Set vtk.js favicon -->\n    <script type=\"module\" src=\"https://unpkg.com/vtk.js/favicon.js\"></script>\n\n    <!-- Load WebGL and WebGPU rendering modules -->\n    <script type=\"module\" src=\"https://unpkg.com/vtk.js/Sources/Rendering/Profiles/Volume.js\"></script>\n\n    <!-- Force DataAccessHelper to access various data sources -->\n    <script type=\"module\"\n        src=\"https://unpkg.com/vtk.js/Sources/IO/Core/DataAccessHelper/HtmlDataAccessHelper.js\"></script>\n    <script type=\"module\"\n        src=\"https://unpkg.com/vtk.js/Sources/IO/Core/DataAccessHelper/HttpDataAccessHelper.js\"></script>\n    <script type=\"module\"\n        src=\"https://unpkg.com/vtk.js/Sources/IO/Core/DataAccessHelper/JSZipDataAccessHelper.js\"></script>\n\n    <script>\n        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;\n        const vtkHttpDataSetReader = vtk.IO.Core.vtkHttpDataSetReader;\n        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;\n        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;\n        const path = 'http://kitware.github.io/vtk-js/data'\n\n        // Reference HTML template\n        const controlPanel = `<table>\n    <tr>\n        <td>Slice I</td>\n        <td>\n            <input class='sliceI' type=\"range\" min=\"0\" max=\"2.0\" step=\"1\" value=\"1\" />\n        </td>\n    </tr>\n    <tr>\n        <td>Slice J</td>\n        <td>\n            <input class='sliceJ' type=\"range\" min=\"0\" max=\"2.0\" step=\"1\" value=\"1\" />\n        </td>\n    </tr>\n    <tr>\n        <td>Slice K</td>\n        <td>\n            <input class='sliceK' type=\"range\" min=\"0\" max=\"100\" step=\"1\" value=\"1\" />\n        </td>\n    </tr>\n    <tr>\n        <td>Color level</td>\n        <td>\n            <input class='colorLevel' type=\"range\" min=\"-3926\" max=\"3926\" step=\"1\" value=\"1\" />\n        </td>\n    </tr>\n    <tr>\n        <td>ColorWindow</td>\n        <td>\n            <input class='colorWindow' type=\"range\" min=\"0\" max=\"3926\" step=\"1\" value=\"1\" />\n        </td>\n    </tr>\n</table>\n`;\n        const fullScreenRenderWindow = vtkFullScreenRenderWindow.newInstance({\n            background: [0, 0, 0],\n        });\n        const renderWindow = fullScreenRenderWindow.getRenderWindow();\n        const renderer = fullScreenRenderWindow.getRenderer();\n        fullScreenRenderWindow.addController(controlPanel);\n\n        const imageActorI = vtkImageSlice.newInstance();\n        const imageActorJ = vtkImageSlice.newInstance();\n        const imageActorK = vtkImageSlice.newInstance();\n\n        renderer.addActor(imageActorK);\n        renderer.addActor(imageActorJ);\n        renderer.addActor(imageActorI);\n\n        function updateColorLevel(e) {\n            const colorLevel = Number(\n                (e ? e.target : document.querySelector('.colorLevel')).value\n            );\n            imageActorI.getProperty().setColorLevel(colorLevel);\n            imageActorJ.getProperty().setColorLevel(colorLevel);\n            imageActorK.getProperty().setColorLevel(colorLevel);\n            renderWindow.render();\n        }\n\n        function updateColorWindow(e) {\n            const colorLevel = Number(\n                (e ? e.target : document.querySelector('.colorWindow')).value\n            );\n            imageActorI.getProperty().setColorWindow(colorLevel);\n            imageActorJ.getProperty().setColorWindow(colorLevel);\n            imageActorK.getProperty().setColorWindow(colorLevel);\n            renderWindow.render();\n        }\n\n        const reader = vtkHttpDataSetReader.newInstance({\n            fetchGzip: true,\n        });\n        reader\n            .setUrl(`${path}/data/volume/headsq.vti`, { loadData: true })\n            .then(() => {\n                const data = reader.getOutputData();\n                const dataRange = data.getPointData().getScalars().getRange();\n                const extent = data.getExtent();\n\n                const imageMapperK = vtkImageMapper.newInstance();\n                imageMapperK.setInputData(data);\n                imageMapperK.setKSlice(30);\n                imageActorK.setMapper(imageMapperK);\n\n                const imageMapperJ = vtkImageMapper.newInstance();\n                imageMapperJ.setInputData(data);\n                imageMapperJ.setJSlice(30);\n                imageActorJ.setMapper(imageMapperJ);\n\n                const imageMapperI = vtkImageMapper.newInstance();\n                imageMapperI.setInputData(data);\n                imageMapperI.setISlice(30);\n                imageActorI.setMapper(imageMapperI);\n\n                renderer.resetCamera();\n                renderer.resetCameraClippingRange();\n                renderWindow.render();\n\n                ['.sliceI', '.sliceJ', '.sliceK'].forEach((selector, idx) => {\n                    const el = document.querySelector(selector);\n                    el.setAttribute('min', extent[idx * 2 + 0]);\n                    el.setAttribute('max', extent[idx * 2 + 1]);\n                    el.setAttribute('value', 30);\n                });\n\n                ['.colorLevel', '.colorWindow'].forEach((selector) => {\n                    document.querySelector(selector).setAttribute('max', dataRange[1]);\n                    document.querySelector(selector).setAttribute('value', dataRange[1]);\n                });\n                document\n                    .querySelector('.colorLevel')\n                    .setAttribute('value', (dataRange[0] + dataRange[1]) / 2);\n                updateColorLevel();\n                updateColorWindow();\n            });\n\n        document.querySelector('.sliceI').addEventListener('input', (e) => {\n            imageActorI.getMapper().setISlice(Number(e.target.value));\n            renderWindow.render();\n        });\n\n        document.querySelector('.sliceJ').addEventListener('input', (e) => {\n            imageActorJ.getMapper().setJSlice(Number(e.target.value));\n            renderWindow.render();\n        });\n\n        document.querySelector('.sliceK').addEventListener('input', (e) => {\n            imageActorK.getMapper().setKSlice(Number(e.target.value));\n            renderWindow.render();\n        });\n\n        document\n            .querySelector('.colorLevel')\n            .addEventListener('input', updateColorLevel);\n        document\n            .querySelector('.colorWindow')\n            .addEventListener('input', updateColorWindow);\n\n        window.fullScreen = fullScreenRenderWindow;\n        window.imageActorI = imageActorI;\n        window.imageActorJ = imageActorJ;\n        window.imageActorK = imageActorK;\n\n    </script>\n</body>\n\n</html>\n\n",
  "evaluator_prompt": "# Role\n\nYou are an expert Evaluator for vtk.js and web-based scientific visualization. Your task is to compare the [GENERATED_CODE] against the [GROUND_TRUTH] and evaluate it based on specific dimensions.\n\n# Input Data\n\n## Ground Truth Code:\n\n[GROUND_TRUTH]\n\n## Generated Code:\n\n[GENERATED_CODE]\n\n# Evaluation Criteria & Rubric (0.0 to 1.0)\n\nPlease evaluate the generated code based on the following 3 dimensions. \n\n1. **Functionality & Completeness (Task Completion)**: \n   - Does the code implement the same visualization pipeline as the ground truth? (e.g., correct readers, mappers, filters).\n   - Are critical elements present (e.g., color transfer functions, full-screen rendering)?\n   - Score 1.0 if logic is identical; lower if steps are missing.\n\n2. **Visual Fidelity (Visual Quality)**:\n   - Based on the code logic, will the visual output look similar to the ground truth?\n   - Check camera parameters, background colors, and opacity transfer functions.\n   - Check if the correct data arrays (scalars/vectors) are selected for coloring.\n\n3. **Code Quality & Maintainability**:\n   - Is the code readable, well-structured, and using vtk.js best practices?\n   - Is the variable naming clear?\n\n# Response Format\n\nYou must output the evaluation in the following Strict XML format. Do not use Markdown block quotes.\n\n<Evaluation>\n    <Dimension name=\"Functionality\">\n        <Score>[SCORE_FLOAT]</Score>\n        <Reason>[BRIEF_REASONING]</Reason>\n    </Dimension>\n    <Dimension name=\"VisualQuality\">\n        <Score>[SCORE_FLOAT]</Score>\n        <Reason>[BRIEF_REASONING]</Reason>\n    </Dimension>\n    <Dimension name=\"CodeQuality\">\n        <Score>[SCORE_FLOAT]</Score>\n        <Reason>[BRIEF_REASONING]</Reason>\n    </Dimension>\n    <Summary>\n        <OverallScore>[AVERAGE_SCORE]</OverallScore>\n        <Critique>[ONE_SENTENCE_SUMMARY]</Critique>\n    </Summary>\n</Evaluation>",
  "generator": "gpt-5",
  "evaluator": "qwen3-max",
  "score": null,
  "workflow": {
    "inquiryExpansion": true,
    "rag": true
  },
  "eval_id": "1765341501",
  "eval_user": "test",
  "export_time": null,
  "console_output": null,
  "eval_time": "2025-12-10 12:38:21",
  "evaluator_evaluation": {
    "score": "0.9",
    "evaluator_evaluation": "<Evaluation>\n    <Dimension name=\"Functionality\">\n        <Score>0.9</Score>\n        <Reason>The generated code correctly uses vtkXMLImageDataReader, sets 'Pressure' as active scalars, slices along Y at 95%, applies a blue-white-red color map, adds an orientation marker in the bottom-right, and ensures full opacity. However, it manually fetches and parses the VTI file using fetch() + parseAsArrayBuffer(), whereas the ground truth uses reader.setUrl(). This is functionally equivalent but deviates from the exact pipeline.</Reason>\n    </Dimension>\n    <Dimension name=\"VisualQuality\">\n        <Score>0.85</Score>\n        <Reason>The color map uses slightly different RGB values (blue is [0,0,1] vs [0,0,0.8]; red is [1,0,0] vs [0.8,0,0]), which alters visual appearance. The background is dark gray ([0.1,0.1,0.1]) instead of white ([1,1,1]). Camera is explicitly reoriented to face the Y-slice, which may improve initial view but differs from ground truth's generic resetCamera(). Opacity is correctly fully opaque.</Reason>\n    </Dimension>\n    <Dimension name=\"CodeQuality\">\n        <Score>0.95</Score>\n        <Reason>The code is exceptionally well-structured, with clear section comments, explicit requirement references, robust error handling, and readable variable names. It follows vtk.js best practices, though using fetch() instead of setUrl() is less idiomatic for vtk.js data loading.</Reason>\n    </Dimension>\n    <Summary>\n        <OverallScore>0.9</OverallScore>\n        <Critique>The generated code is highly maintainable and mostly functionally equivalent, but has minor visual differences in color and background, and uses a non-standard data loading approach.</Critique>\n    </Summary>\n</Evaluation>",
    "parsed_evaluation": {
      "dimensions": {
        "Functionality": {
          "score": 0.9,
          "reason": "The generated code correctly uses vtkXMLImageDataReader, sets 'Pressure' as active scalars, slices along Y at 95%, applies a blue-white-red color map, adds an orientation marker in the bottom-right, and ensures full opacity. However, it manually fetches and parses the VTI file using fetch() + parseAsArrayBuffer(), whereas the ground truth uses reader.setUrl(). This is functionally equivalent but deviates from the exact pipeline."
        },
        "VisualQuality": {
          "score": 0.85,
          "reason": "The color map uses slightly different RGB values (blue is [0,0,1] vs [0,0,0.8]; red is [1,0,0] vs [0.8,0,0]), which alters visual appearance. The background is dark gray ([0.1,0.1,0.1]) instead of white ([1,1,1]). Camera is explicitly reoriented to face the Y-slice, which may improve initial view but differs from ground truth's generic resetCamera(). Opacity is correctly fully opaque."
        },
        "CodeQuality": {
          "score": 0.95,
          "reason": "The code is exceptionally well-structured, with clear section comments, explicit requirement references, robust error handling, and readable variable names. It follows vtk.js best practices, though using fetch() instead of setUrl() is less idiomatic for vtk.js data loading."
        }
      },
      "overall": 0.9,
      "critique": "The generated code is highly maintainable and mostly functionally equivalent, but has minor visual differences in color and background, and uses a non-standard data loading approach.",
      "raw_xml": "<Evaluation>\n    <Dimension name=\"Functionality\">\n        <Score>0.9</Score>\n        <Reason>The generated code correctly uses vtkXMLImageDataReader, sets 'Pressure' as active scalars, slices along Y at 95%, applies a blue-white-red color map, adds an orientation marker in the bottom-right, and ensures full opacity. However, it manually fetches and parses the VTI file using fetch() + parseAsArrayBuffer(), whereas the ground truth uses reader.setUrl(). This is functionally equivalent but deviates from the exact pipeline.</Reason>\n    </Dimension>\n    <Dimension name=\"VisualQuality\">\n        <Score>0.85</Score>\n        <Reason>The color map uses slightly different RGB values (blue is [0,0,1] vs [0,0,0.8]; red is [1,0,0] vs [0.8,0,0]), which alters visual appearance. The background is dark gray ([0.1,0.1,0.1]) instead of white ([1,1,1]). Camera is explicitly reoriented to face the Y-slice, which may improve initial view but differs from ground truth's generic resetCamera(). Opacity is correctly fully opaque.</Reason>\n    </Dimension>\n    <Dimension name=\"CodeQuality\">\n        <Score>0.95</Score>\n        <Reason>The code is exceptionally well-structured, with clear section comments, explicit requirement references, robust error handling, and readable variable names. It follows vtk.js best practices, though using fetch() instead of setUrl() is less idiomatic for vtk.js data loading.</Reason>\n    </Dimension>\n    <Summary>\n        <OverallScore>0.9</OverallScore>\n        <Critique>The generated code is highly maintainable and mostly functionally equivalent, but has minor visual differences in color and background, and uses a non-standard data loading approach.</Critique>\n    </Summary>\n</Evaluation>"
    }
  },
  "options": null,
  "analysis": [
    {
      "phase": "Data Loading",
      "step_name": "Load Rotor Dataset",
      "vtk_modules": [
        "vtkXMLImageDataReader"
      ],
      "description": "Load the rotor dataset from 'http://127.0.0.1:5000/dataset/rotor.vti' using vtkXMLImageDataReader."
    },
    {
      "phase": "Data Processing",
      "step_name": "Set Scalar and Slice",
      "vtk_modules": [
        "vtkImageSlice"
      ],
      "description": "Set the active scalar array to 'Pressure'. Compute the slice index along the Y-axis at 95% depth based on dataset dimensions and apply a slice using vtkImageSlice."
    },
    {
      "phase": "Visualization Setup",
      "step_name": "Configure Color Map",
      "vtk_modules": [
        "vtkColorTransferFunction",
        "vtkImageMapper"
      ],
      "description": "Create a blue → white → red color transfer function for the 'Pressure' scalar range (min to max). Configure vtkImageMapper with this color map and set opacity to fully opaque."
    },
    {
      "phase": "UI Configuration",
      "step_name": "Add Orientation Marker",
      "vtk_modules": [
        "vtkOrientationMarkerWidget",
        "vtkAxesActor"
      ],
      "description": "Add an XYZ axes orientation marker in the bottom-right corner using vtkOrientationMarkerWidget and vtkAxesActor."
    },
    {
      "phase": "Rendering & Interaction",
      "step_name": "Render Scene",
      "vtk_modules": [
        "vtkRenderWindow",
        "vtkRenderer",
        "vtkRenderWindowInteractor"
      ],
      "description": "Initialize the render window, renderer, and interactor to display the sliced image with the configured color map and orientation marker."
    }
  ],
  "retrieval_results": [
    {
      "file_path": "data\\vtkjs-examples\\prompt-sample\\Filter-ImageLabelOutline\\code.html",
      "faiss_id": 144015752,
      "description": "Displays a 2D image volume with an outlined labelmap. Specific regions (high/low values) are highlighted in red/green with transparent outlines.\n",
      "vtkjs_modules": "['vtk.Common.Core.vtkDataArray', 'vtk.Common.DataModel.vtkDataSet.FieldAssociations', 'vtk.Common.DataModel.vtkDataSetAttributes.AttributeTypes', 'vtk.Common.DataModel.vtkImageData', 'vtk.Common.DataModel.vtkPiecewiseFunction', 'vtk.Filters.General.vtkCalculator', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkColorTransferFunction', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']",
      "rerank_score": 43.0,
      "matched_keywords": "['vtkPiecewiseFunction', 'vtkActor', 'vtkMapper', 'vtkRenderWindow', 'vtkImageSlice', 'vtkColorTransferFunction']",
      "match_explanation": "[\"Query: 'Data Processing — Set 'Pressure' as the active scalar and apply a slice at 80% depth along the Y-axis using vtkImageSlice;' (w=10.0) -> Hit 1 keys\", \"Query: 'Visualization Setup — Map pressure values to a blue→white→red color gradient using vtkColorTransferFunction and set full opacity using vtkPiecewiseFunction, then associate with vtkMapper;' (w=9.0) -> Hit 3 keys\", \"Query: 'Integrate all components and render the visualization without GUI controls using vtkRenderWindow, vtkRenderer, vtkActor, and vtkView;' (w=3.0) -> Hit 2 keys\"]",
      "title": "Filter-ImageLabelOutline"
    },
    {
      "file_path": "data\\vtkjs-examples\\prompt-sample\\Rendering-ItkWasmVolume\\code.html",
      "faiss_id": 1398812761,
      "description": "Loads a medical image dataset (MHA) and renders it as a 3D volume using `vtkVolumeMapper` with custom color and opacity transfer functions.\n",
      "vtkjs_modules": "['vtk.Common.DataModel.vtkITKHelper', 'vtk.Common.DataModel.vtkPiecewiseFunction', 'vtk.IO.Core.DataAccessHelper.vtkLiteHttpDataAccessHelper', 'vtk.Rendering.Core.vtkColorTransferFunction', 'vtk.Rendering.Core.vtkVolume', 'vtk.Rendering.Core.vtkVolumeMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']",
      "rerank_score": 30.0,
      "matched_keywords": "['vtkRenderWindow', 'vtkMapper', 'vtkPiecewiseFunction', 'vtkColorTransferFunction']",
      "match_explanation": "[\"Query: 'Visualization Setup — Map pressure values to a blue→white→red color gradient using vtkColorTransferFunction and set full opacity using vtkPiecewiseFunction, then associate with vtkMapper;' (w=9.0) -> Hit 3 keys\", \"Query: 'Integrate all components and render the visualization without GUI controls using vtkRenderWindow, vtkRenderer, vtkActor, and vtkView;' (w=3.0) -> Hit 1 keys\"]",
      "title": "Rendering-ItkWasmVolume"
    },
    {
      "file_path": "data\\vtkjs-examples\\prompt-sample\\Rendering-VolumeMapper\\code.html",
      "faiss_id": 431419998,
      "description": "Loads a 3D volume dataset and renders it using `vtkVolumeActor` and `vtkVolumeMapper` with extensive customization for appearance and quality.\n",
      "vtkjs_modules": "['vtk.Common.DataModel.vtkPiecewiseFunction', 'vtk.IO.Core.vtkHttpDataSetReader.newInstance', 'vtk.Rendering.Core.vtkColorTransferFunction', 'vtk.Rendering.Core.vtkVolume', 'vtk.Rendering.Core.vtkVolumeMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow.newInstance']",
      "rerank_score": 27.0,
      "matched_keywords": "['vtkMapper', 'vtkPiecewiseFunction', 'vtkColorTransferFunction']",
      "match_explanation": "[\"Query: 'Visualization Setup — Map pressure values to a blue→white→red color gradient using vtkColorTransferFunction and set full opacity using vtkPiecewiseFunction, then associate with vtkMapper;' (w=9.0) -> Hit 3 keys\"]",
      "title": "Rendering-VolumeMapper"
    },
    {
      "file_path": "data\\vtkjs-examples\\prompt-sample\\Filter-ImageSlice\\code.html",
      "faiss_id": 1985908936,
      "description": "Generates and displays a 2D random image (100x100) using `vtkImageSlice` and `vtkImageMapper`.\n",
      "vtkjs_modules": "['vtk.Common.Core.vtkDataArray.newInstance', 'vtk.Common.DataModel.vtkImageData', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']",
      "rerank_score": 22.0,
      "matched_keywords": "['vtkRenderWindow', 'vtkMapper', 'vtkImageSlice']",
      "match_explanation": "[\"Query: 'Data Processing — Set 'Pressure' as the active scalar and apply a slice at 80% depth along the Y-axis using vtkImageSlice;' (w=10.0) -> Hit 1 keys\", \"Query: 'Visualization Setup — Map pressure values to a blue→white→red color gradient using vtkColorTransferFunction and set full opacity using vtkPiecewiseFunction, then associate with vtkMapper;' (w=9.0) -> Hit 1 keys\", \"Query: 'Integrate all components and render the visualization without GUI controls using vtkRenderWindow, vtkRenderer, vtkActor, and vtkView;' (w=3.0) -> Hit 1 keys\"]",
      "title": "Filter-ImageSlice"
    },
    {
      "file_path": "data\\vtkjs-examples\\prompt-sample\\Filter-MultiImageSlice\\code.html",
      "faiss_id": 739470138,
      "description": "Loads a 3D volume and displays three orthogonal image slices (I, J, K planes) at the 30th layer using `vtkHttpDataSetReader` and `vtkImageSlice`.\n",
      "vtkjs_modules": "['vtk.IO.Core.vtkHttpDataSetReader', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']",
      "rerank_score": 22.0,
      "matched_keywords": "['vtkRenderWindow', 'vtkMapper', 'vtkImageSlice']",
      "match_explanation": "[\"Query: 'Data Processing — Set 'Pressure' as the active scalar and apply a slice at 80% depth along the Y-axis using vtkImageSlice;' (w=10.0) -> Hit 1 keys\", \"Query: 'Visualization Setup — Map pressure values to a blue→white→red color gradient using vtkColorTransferFunction and set full opacity using vtkPiecewiseFunction, then associate with vtkMapper;' (w=9.0) -> Hit 1 keys\", \"Query: 'Integrate all components and render the visualization without GUI controls using vtkRenderWindow, vtkRenderer, vtkActor, and vtkView;' (w=3.0) -> Hit 1 keys\"]",
      "title": "Filter-MultiImageSlice"
    },
    {
      "file_path": "data\\vtkjs-examples\\prompt-sample\\Rendering-Image2D\\code.html",
      "faiss_id": 38476787,
      "description": "Displays a synthetic 2D image generated by `vtkRTAnalyticSource` using `vtkImageMapper` and `vtkImageSlice`.",
      "vtkjs_modules": "['vtk.Common.DataModel.vtkImageData', 'vtk.Filters.Sources.vtkRTAnalyticSource', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']",
      "rerank_score": 22.0,
      "matched_keywords": "['vtkRenderWindow', 'vtkMapper', 'vtkImageSlice']",
      "match_explanation": "[\"Query: 'Data Processing — Set 'Pressure' as the active scalar and apply a slice at 80% depth along the Y-axis using vtkImageSlice;' (w=10.0) -> Hit 1 keys\", \"Query: 'Visualization Setup — Map pressure values to a blue→white→red color gradient using vtkColorTransferFunction and set full opacity using vtkPiecewiseFunction, then associate with vtkMapper;' (w=9.0) -> Hit 1 keys\", \"Query: 'Integrate all components and render the visualization without GUI controls using vtkRenderWindow, vtkRenderer, vtkActor, and vtkView;' (w=3.0) -> Hit 1 keys\"]",
      "title": "Rendering-Image2D"
    }
  ],
  "metadata": {
    "keyword_aware_retrieval_time": 0.008682727813720703,
    "retrieval_time_seconds": 0.01
  }
}