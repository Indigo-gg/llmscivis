VTK.js 检索结果
==================================================

第1行结果:
原始查询: Generate HTML with vtk.js to visualize sliced rotor data

Load data:
- Load from http://127.0.0.1:5000/dataset/rotor.vti

Processing:
- Slice ：Set as active scalar "Pressure"
- Applies a Y-axis slice at 80% /depth (setSlice, setSlicingMode).
Visualization:
- Maps pressure values to colors (blue→white→red gradient) and opacity (full opacity).
- UI: Adds an orientation marker (XYZ axes) for spatial reference.
6. No GUI controls required
------------------------------
最终提示:

    You are a VTK.js visualization expert. Based on the user's requirements and the provided VTK.js examples, generate complete and functional HTML code that meets all specified requirements.
    Please follow these guidelines:
    1. Generate complete HTML code that can run independently
    2. Use the VTK.js library from CDN (https://unpkg.com/vtk.js)
    3. Implement ALL requirements specified in the user question
    4. Add detailed comments explaining how each requirement is implemented
    5. Ensure the visualization is displayed properly without UI controls unless specifically requested
    6. Use appropriate VTK.js modules and methods as shown in the examples
    7. Pay special attention to data loading paths and visualization parameters

    Important: Highlight in comments how each specific user requirement is addressed in the code.

    Generate only the HTML code without any additional text or markdown formatting.
    User Requirements:
    Generate HTML with vtk.js to visualize sliced rotor data

Load data:
- Load from http://127.0.0.1:5000/dataset/rotor.vti

Processing:
- Slice ：Set as active scalar "Pressure"
- Applies a Y-axis slice at 80% /depth (setSlice, setSlicingMode).
Visualization:
- Maps pressure values to colors (blue→white→red gradient) and opacity (full opacity).
- UI: Adds an orientation marker (XYZ axes) for spatial reference.
6. No GUI controls required

    Relevant VTK.js Examples:
    示例 1:
描述: Displays a synthetic 2D image generated by `vtkRTAnalyticSource` using `vtkImageMapper` and `vtkImageSlice`.
VTK.js 模块: ['vtk.Common.DataModel.vtkImageData', 'vtk.Filters.Sources.vtkRTAnalyticSource', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // create render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        const vtkImgSource = vtk.Filters.Sources.vtkRTAnalyticSource;
        const imgSource = vtkImgSource.newInstance();
        imgSource.update();
        const img = imgSource.getOutputData();

        // set mapper and actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(img);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // adding actor to render
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 2:
描述: Loads and visualizes a 3D model (VTP format) from a remote URL using `vtkHttpDataSetReader` with gzip support.

VTK.js 模块: ['vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper', 'vtk.IO.Core.vtkHttpDataSetReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow', 'vtk.Rendering.OpenGL.Profiles.Geometry']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js IO-HttpDataSetReader</title>
</head>

<body>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const data_path = 'http://kitware.github.io/vtk-js/data/cow.vtp'
        const vtkHttpDataSetReader = vtk.IO.Core.vtkHttpDataSetReader;
        // const vtkGeometry = vtk.Rendering.OpenGL.Profiles.Geometry

        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkActor = vtk.Rendering.Core.vtkActor
        const vtkMapper = vtk.Rendering.Core.vtkMapper

        // Force the loading of HttpDataAccessHelper to support gzip decompression
        const vtkHttpDataAccessHelper = vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper

        // ----------------------------------------------------------------------------
        // Standard rendering code setup
        // ----------------------------------------------------------------------------

        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance();
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // ----------------------------------------------------------------------------
        // Example code
        // ----------------------------------------------------------------------------
        // Server is not sending the .gz and with the compress header
        // Need to fetch the true file name and uncompress it locally
        // ----------------------------------------------------------------------------

        const reader = vtkHttpDataSetReader.newInstance({ fetchGzip: true });
        reader.setUrl(data_path).then(() => {
            reader.loadData().then(() => {
                renderer.resetCamera();
                renderWindow.render();
            });
        });

        const mapper = vtkMapper.newInstance();
        mapper.setInputConnection(reader.getOutputPort());

        const actor = vtkActor.newInstance();
        actor.setMapper(mapper);

        renderer.addActor(actor);

        // -----------------------------------------------------------
        // Make some variables global so that you can inspect and
        // modify objects in your browser's developer console:
        // -----------------------------------------------------------

        // global.source = reader;
        // global.mapper = mapper;
        // global.actor = actor;
        // global.renderer = renderer;
        // global.renderWindow = renderWindow;

    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 3:
描述: Loads and visualizes a 3D polygonal data file (`test_cone.vtp`) using `vtkXMLPolyDataReader` and `vtkMapper`.

VTK.js 模块: ['vtk.IO.XML.vtkXMLPolyDataReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js loading poly data, need to start by live server</title>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkXMLPolyDataReader = vtk.IO.XML.vtkXMLPolyDataReader;
        const vtkActor = vtk.Rendering.Core.vtkActor;
        const vtkMapper = vtk.Rendering.Core.vtkMapper;

        // crete the render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // load the vtp data locally
        const reader = vtkXMLPolyDataReader.newInstance();
        // set url and load the data
        reader.setUrl('../datasets/test_cone.vtp').then(() => {
            reader.loadData().then(() => {
                // assign data to actor
                const mapper = vtkMapper.newInstance();
                console.log(reader.getOutputData(0))
                mapper.setInputData(reader.getOutputData(0));
                const actor = vtkActor.newInstance();
                actor.setMapper(mapper);

                //  adding actor to render and render the data
                renderer.addActor(actor);
                renderer.resetCamera();
                renderWindow.render();
            });
        });
    </script>
</body>

</html>


--------------------------------------------------------------------------------------------------------------
示例 4:
描述: Generates and displays a 2D random image (100x100) using `vtkImageSlice` and `vtkImageMapper`.

VTK.js 模块: ['vtk.Common.Core.vtkDataArray.newInstance', 'vtk.Common.DataModel.vtkImageData', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;//用于渲染二维图片切片的actor
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // 创建渲染窗口
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // 创建图像数据
        const imageData = vtkImageData.newInstance();
        imageData.setDimensions(100, 100, 1);
        imageData.setSpacing(1.0, 1.0, 1.0);
        imageData.setOrigin(0.0, 0.0, 0.0);

        // 设置图像数据的像素值
        const scalars = new Uint8Array(100 * 100);
        for (let i = 0; i < 100 * 100; i++) {
            scalars[i] = Math.random() * 255;
        }
        imageData.getPointData().setScalars(vtk.Common.Core.vtkDataArray.newInstance({ values: scalars, numberOfComponents: 1 }));

        // 创建映射器和 actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(imageData);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // 将 actor 添加到渲染器
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>


            

==================================================

第2行结果:
原始查询: Rotor Isosurface Visualization Requirements:
- Data: Load from rotor_simplified.vti dataset
- Process: Calculate velocity magnitude from vector components (√(vx²+vy²+vz²))
- Features:
* Isosurface extraction using Marching Cubes algorithm
* Rainbow colormap (blue->cyan->white->orange->red)
* Surface rendering with ambient(0.3), diffuse(0.7), specular(0.4) lighting
* Interactive 3D view with orientation axes widget
- Implementation: vtk.js framework with responsive UI
------------------------------
最终提示:

    You are a VTK.js visualization expert. Based on the user's requirements and the provided VTK.js examples, generate complete and functional HTML code that meets all specified requirements.
    Please follow these guidelines:
    1. Generate complete HTML code that can run independently
    2. Use the VTK.js library from CDN (https://unpkg.com/vtk.js)
    3. Implement ALL requirements specified in the user question
    4. Add detailed comments explaining how each requirement is implemented
    5. Ensure the visualization is displayed properly without UI controls unless specifically requested
    6. Use appropriate VTK.js modules and methods as shown in the examples
    7. Pay special attention to data loading paths and visualization parameters

    Important: Highlight in comments how each specific user requirement is addressed in the code.

    Generate only the HTML code without any additional text or markdown formatting.
    User Requirements:
    Rotor Isosurface Visualization Requirements:
- Data: Load from rotor_simplified.vti dataset
- Process: Calculate velocity magnitude from vector components (√(vx²+vy²+vz²))
- Features:
* Isosurface extraction using Marching Cubes algorithm
* Rainbow colormap (blue->cyan->white->orange->red)
* Surface rendering with ambient(0.3), diffuse(0.7), specular(0.4) lighting
* Interactive 3D view with orientation axes widget
- Implementation: vtk.js framework with responsive UI

    Relevant VTK.js Examples:
    示例 1:
描述: Displays a synthetic 2D image generated by `vtkRTAnalyticSource` using `vtkImageMapper` and `vtkImageSlice`.
VTK.js 模块: ['vtk.Common.DataModel.vtkImageData', 'vtk.Filters.Sources.vtkRTAnalyticSource', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // create render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        const vtkImgSource = vtk.Filters.Sources.vtkRTAnalyticSource;
        const imgSource = vtkImgSource.newInstance();
        imgSource.update();
        const img = imgSource.getOutputData();

        // set mapper and actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(img);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // adding actor to render
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 2:
描述: Loads and visualizes a 3D model (VTP format) from a remote URL using `vtkHttpDataSetReader` with gzip support.

VTK.js 模块: ['vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper', 'vtk.IO.Core.vtkHttpDataSetReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow', 'vtk.Rendering.OpenGL.Profiles.Geometry']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js IO-HttpDataSetReader</title>
</head>

<body>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const data_path = 'http://kitware.github.io/vtk-js/data/cow.vtp'
        const vtkHttpDataSetReader = vtk.IO.Core.vtkHttpDataSetReader;
        // const vtkGeometry = vtk.Rendering.OpenGL.Profiles.Geometry

        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkActor = vtk.Rendering.Core.vtkActor
        const vtkMapper = vtk.Rendering.Core.vtkMapper

        // Force the loading of HttpDataAccessHelper to support gzip decompression
        const vtkHttpDataAccessHelper = vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper

        // ----------------------------------------------------------------------------
        // Standard rendering code setup
        // ----------------------------------------------------------------------------

        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance();
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // ----------------------------------------------------------------------------
        // Example code
        // ----------------------------------------------------------------------------
        // Server is not sending the .gz and with the compress header
        // Need to fetch the true file name and uncompress it locally
        // ----------------------------------------------------------------------------

        const reader = vtkHttpDataSetReader.newInstance({ fetchGzip: true });
        reader.setUrl(data_path).then(() => {
            reader.loadData().then(() => {
                renderer.resetCamera();
                renderWindow.render();
            });
        });

        const mapper = vtkMapper.newInstance();
        mapper.setInputConnection(reader.getOutputPort());

        const actor = vtkActor.newInstance();
        actor.setMapper(mapper);

        renderer.addActor(actor);

        // -----------------------------------------------------------
        // Make some variables global so that you can inspect and
        // modify objects in your browser's developer console:
        // -----------------------------------------------------------

        // global.source = reader;
        // global.mapper = mapper;
        // global.actor = actor;
        // global.renderer = renderer;
        // global.renderWindow = renderWindow;

    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 3:
描述: Loads and visualizes a 3D polygonal data file (`test_cone.vtp`) using `vtkXMLPolyDataReader` and `vtkMapper`.

VTK.js 模块: ['vtk.IO.XML.vtkXMLPolyDataReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js loading poly data, need to start by live server</title>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkXMLPolyDataReader = vtk.IO.XML.vtkXMLPolyDataReader;
        const vtkActor = vtk.Rendering.Core.vtkActor;
        const vtkMapper = vtk.Rendering.Core.vtkMapper;

        // crete the render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // load the vtp data locally
        const reader = vtkXMLPolyDataReader.newInstance();
        // set url and load the data
        reader.setUrl('../datasets/test_cone.vtp').then(() => {
            reader.loadData().then(() => {
                // assign data to actor
                const mapper = vtkMapper.newInstance();
                console.log(reader.getOutputData(0))
                mapper.setInputData(reader.getOutputData(0));
                const actor = vtkActor.newInstance();
                actor.setMapper(mapper);

                //  adding actor to render and render the data
                renderer.addActor(actor);
                renderer.resetCamera();
                renderWindow.render();
            });
        });
    </script>
</body>

</html>


--------------------------------------------------------------------------------------------------------------
示例 4:
描述: Generates and displays a 2D random image (100x100) using `vtkImageSlice` and `vtkImageMapper`.

VTK.js 模块: ['vtk.Common.Core.vtkDataArray.newInstance', 'vtk.Common.DataModel.vtkImageData', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;//用于渲染二维图片切片的actor
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // 创建渲染窗口
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // 创建图像数据
        const imageData = vtkImageData.newInstance();
        imageData.setDimensions(100, 100, 1);
        imageData.setSpacing(1.0, 1.0, 1.0);
        imageData.setOrigin(0.0, 0.0, 0.0);

        // 设置图像数据的像素值
        const scalars = new Uint8Array(100 * 100);
        for (let i = 0; i < 100 * 100; i++) {
            scalars[i] = Math.random() * 255;
        }
        imageData.getPointData().setScalars(vtk.Common.Core.vtkDataArray.newInstance({ values: scalars, numberOfComponents: 1 }));

        // 创建映射器和 actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(imageData);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // 将 actor 添加到渲染器
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>


            

==================================================

第3行结果:
原始查询: 
Create vtk.js visualization for isabel.vti dataset with velocity field.

Load data from: http://127.0.0.1:5000/dataset/isabel.vti

Generate streamlines from center seeds, show outline.

Use vtkFullScreenRenderWindow and load vtk.js from CDN.
------------------------------
最终提示:

    You are a VTK.js visualization expert. Based on the user's requirements and the provided VTK.js examples, generate complete and functional HTML code that meets all specified requirements.
    Please follow these guidelines:
    1. Generate complete HTML code that can run independently
    2. Use the VTK.js library from CDN (https://unpkg.com/vtk.js)
    3. Implement ALL requirements specified in the user question
    4. Add detailed comments explaining how each requirement is implemented
    5. Ensure the visualization is displayed properly without UI controls unless specifically requested
    6. Use appropriate VTK.js modules and methods as shown in the examples
    7. Pay special attention to data loading paths and visualization parameters

    Important: Highlight in comments how each specific user requirement is addressed in the code.

    Generate only the HTML code without any additional text or markdown formatting.
    User Requirements:
    
Create vtk.js visualization for isabel.vti dataset with velocity field.

Load data from: http://127.0.0.1:5000/dataset/isabel.vti

Generate streamlines from center seeds, show outline.

Use vtkFullScreenRenderWindow and load vtk.js from CDN.

    Relevant VTK.js Examples:
    示例 1:
描述: Displays a synthetic 2D image generated by `vtkRTAnalyticSource` using `vtkImageMapper` and `vtkImageSlice`.
VTK.js 模块: ['vtk.Common.DataModel.vtkImageData', 'vtk.Filters.Sources.vtkRTAnalyticSource', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // create render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        const vtkImgSource = vtk.Filters.Sources.vtkRTAnalyticSource;
        const imgSource = vtkImgSource.newInstance();
        imgSource.update();
        const img = imgSource.getOutputData();

        // set mapper and actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(img);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // adding actor to render
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 2:
描述: Loads and visualizes a 3D model (VTP format) from a remote URL using `vtkHttpDataSetReader` with gzip support.

VTK.js 模块: ['vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper', 'vtk.IO.Core.vtkHttpDataSetReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow', 'vtk.Rendering.OpenGL.Profiles.Geometry']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js IO-HttpDataSetReader</title>
</head>

<body>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const data_path = 'http://kitware.github.io/vtk-js/data/cow.vtp'
        const vtkHttpDataSetReader = vtk.IO.Core.vtkHttpDataSetReader;
        // const vtkGeometry = vtk.Rendering.OpenGL.Profiles.Geometry

        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkActor = vtk.Rendering.Core.vtkActor
        const vtkMapper = vtk.Rendering.Core.vtkMapper

        // Force the loading of HttpDataAccessHelper to support gzip decompression
        const vtkHttpDataAccessHelper = vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper

        // ----------------------------------------------------------------------------
        // Standard rendering code setup
        // ----------------------------------------------------------------------------

        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance();
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // ----------------------------------------------------------------------------
        // Example code
        // ----------------------------------------------------------------------------
        // Server is not sending the .gz and with the compress header
        // Need to fetch the true file name and uncompress it locally
        // ----------------------------------------------------------------------------

        const reader = vtkHttpDataSetReader.newInstance({ fetchGzip: true });
        reader.setUrl(data_path).then(() => {
            reader.loadData().then(() => {
                renderer.resetCamera();
                renderWindow.render();
            });
        });

        const mapper = vtkMapper.newInstance();
        mapper.setInputConnection(reader.getOutputPort());

        const actor = vtkActor.newInstance();
        actor.setMapper(mapper);

        renderer.addActor(actor);

        // -----------------------------------------------------------
        // Make some variables global so that you can inspect and
        // modify objects in your browser's developer console:
        // -----------------------------------------------------------

        // global.source = reader;
        // global.mapper = mapper;
        // global.actor = actor;
        // global.renderer = renderer;
        // global.renderWindow = renderWindow;

    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 3:
描述: Loads and visualizes a 3D polygonal data file (`test_cone.vtp`) using `vtkXMLPolyDataReader` and `vtkMapper`.

VTK.js 模块: ['vtk.IO.XML.vtkXMLPolyDataReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js loading poly data, need to start by live server</title>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkXMLPolyDataReader = vtk.IO.XML.vtkXMLPolyDataReader;
        const vtkActor = vtk.Rendering.Core.vtkActor;
        const vtkMapper = vtk.Rendering.Core.vtkMapper;

        // crete the render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // load the vtp data locally
        const reader = vtkXMLPolyDataReader.newInstance();
        // set url and load the data
        reader.setUrl('../datasets/test_cone.vtp').then(() => {
            reader.loadData().then(() => {
                // assign data to actor
                const mapper = vtkMapper.newInstance();
                console.log(reader.getOutputData(0))
                mapper.setInputData(reader.getOutputData(0));
                const actor = vtkActor.newInstance();
                actor.setMapper(mapper);

                //  adding actor to render and render the data
                renderer.addActor(actor);
                renderer.resetCamera();
                renderWindow.render();
            });
        });
    </script>
</body>

</html>


--------------------------------------------------------------------------------------------------------------
示例 4:
描述: Generates and displays a 2D random image (100x100) using `vtkImageSlice` and `vtkImageMapper`.

VTK.js 模块: ['vtk.Common.Core.vtkDataArray.newInstance', 'vtk.Common.DataModel.vtkImageData', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;//用于渲染二维图片切片的actor
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // 创建渲染窗口
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // 创建图像数据
        const imageData = vtkImageData.newInstance();
        imageData.setDimensions(100, 100, 1);
        imageData.setSpacing(1.0, 1.0, 1.0);
        imageData.setOrigin(0.0, 0.0, 0.0);

        // 设置图像数据的像素值
        const scalars = new Uint8Array(100 * 100);
        for (let i = 0; i < 100 * 100; i++) {
            scalars[i] = Math.random() * 255;
        }
        imageData.getPointData().setScalars(vtk.Common.Core.vtkDataArray.newInstance({ values: scalars, numberOfComponents: 1 }));

        // 创建映射器和 actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(imageData);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // 将 actor 添加到渲染器
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>


            

==================================================

第4行结果:
原始查询: Generate HTML with vtk.js to visualize volume rendering

Load from http://127.0.0.1:5000/dataset/airfoil_oneslice.vtp
Scalar Mapping:
Activates the p scalar array for color encoding
Visualization:
Renders the colors and representation
positions the camera to focus on the dataset bounds

------------------------------
最终提示:

    You are a VTK.js visualization expert. Based on the user's requirements and the provided VTK.js examples, generate complete and functional HTML code that meets all specified requirements.
    Please follow these guidelines:
    1. Generate complete HTML code that can run independently
    2. Use the VTK.js library from CDN (https://unpkg.com/vtk.js)
    3. Implement ALL requirements specified in the user question
    4. Add detailed comments explaining how each requirement is implemented
    5. Ensure the visualization is displayed properly without UI controls unless specifically requested
    6. Use appropriate VTK.js modules and methods as shown in the examples
    7. Pay special attention to data loading paths and visualization parameters

    Important: Highlight in comments how each specific user requirement is addressed in the code.

    Generate only the HTML code without any additional text or markdown formatting.
    User Requirements:
    Generate HTML with vtk.js to visualize volume rendering

Load from http://127.0.0.1:5000/dataset/airfoil_oneslice.vtp
Scalar Mapping:
Activates the p scalar array for color encoding
Visualization:
Renders the colors and representation
positions the camera to focus on the dataset bounds


    Relevant VTK.js Examples:
    示例 1:
描述: Displays a synthetic 2D image generated by `vtkRTAnalyticSource` using `vtkImageMapper` and `vtkImageSlice`.
VTK.js 模块: ['vtk.Common.DataModel.vtkImageData', 'vtk.Filters.Sources.vtkRTAnalyticSource', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // create render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        const vtkImgSource = vtk.Filters.Sources.vtkRTAnalyticSource;
        const imgSource = vtkImgSource.newInstance();
        imgSource.update();
        const img = imgSource.getOutputData();

        // set mapper and actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(img);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // adding actor to render
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 2:
描述: Loads and visualizes a 3D model (VTP format) from a remote URL using `vtkHttpDataSetReader` with gzip support.

VTK.js 模块: ['vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper', 'vtk.IO.Core.vtkHttpDataSetReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow', 'vtk.Rendering.OpenGL.Profiles.Geometry']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js IO-HttpDataSetReader</title>
</head>

<body>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const data_path = 'http://kitware.github.io/vtk-js/data/cow.vtp'
        const vtkHttpDataSetReader = vtk.IO.Core.vtkHttpDataSetReader;
        // const vtkGeometry = vtk.Rendering.OpenGL.Profiles.Geometry

        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkActor = vtk.Rendering.Core.vtkActor
        const vtkMapper = vtk.Rendering.Core.vtkMapper

        // Force the loading of HttpDataAccessHelper to support gzip decompression
        const vtkHttpDataAccessHelper = vtk.IO.Core.DataAccessHelper.HttpDataAccessHelper

        // ----------------------------------------------------------------------------
        // Standard rendering code setup
        // ----------------------------------------------------------------------------

        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance();
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // ----------------------------------------------------------------------------
        // Example code
        // ----------------------------------------------------------------------------
        // Server is not sending the .gz and with the compress header
        // Need to fetch the true file name and uncompress it locally
        // ----------------------------------------------------------------------------

        const reader = vtkHttpDataSetReader.newInstance({ fetchGzip: true });
        reader.setUrl(data_path).then(() => {
            reader.loadData().then(() => {
                renderer.resetCamera();
                renderWindow.render();
            });
        });

        const mapper = vtkMapper.newInstance();
        mapper.setInputConnection(reader.getOutputPort());

        const actor = vtkActor.newInstance();
        actor.setMapper(mapper);

        renderer.addActor(actor);

        // -----------------------------------------------------------
        // Make some variables global so that you can inspect and
        // modify objects in your browser's developer console:
        // -----------------------------------------------------------

        // global.source = reader;
        // global.mapper = mapper;
        // global.actor = actor;
        // global.renderer = renderer;
        // global.renderWindow = renderWindow;

    </script>
</body>

</html>

--------------------------------------------------------------------------------------------------------------
示例 3:
描述: Loads and visualizes a 3D polygonal data file (`test_cone.vtp`) using `vtkXMLPolyDataReader` and `vtkMapper`.

VTK.js 模块: ['vtk.IO.XML.vtkXMLPolyDataReader', 'vtk.Rendering.Core.vtkActor', 'vtk.Rendering.Core.vtkMapper', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vtk.js loading poly data, need to start by live server</title>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkXMLPolyDataReader = vtk.IO.XML.vtkXMLPolyDataReader;
        const vtkActor = vtk.Rendering.Core.vtkActor;
        const vtkMapper = vtk.Rendering.Core.vtkMapper;

        // crete the render window
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // load the vtp data locally
        const reader = vtkXMLPolyDataReader.newInstance();
        // set url and load the data
        reader.setUrl('../datasets/test_cone.vtp').then(() => {
            reader.loadData().then(() => {
                // assign data to actor
                const mapper = vtkMapper.newInstance();
                console.log(reader.getOutputData(0))
                mapper.setInputData(reader.getOutputData(0));
                const actor = vtkActor.newInstance();
                actor.setMapper(mapper);

                //  adding actor to render and render the data
                renderer.addActor(actor);
                renderer.resetCamera();
                renderWindow.render();
            });
        });
    </script>
</body>

</html>


--------------------------------------------------------------------------------------------------------------
示例 4:
描述: Generates and displays a 2D random image (100x100) using `vtkImageSlice` and `vtkImageMapper`.

VTK.js 模块: ['vtk.Common.Core.vtkDataArray.newInstance', 'vtk.Common.DataModel.vtkImageData', 'vtk.Rendering.Core.vtkImageMapper', 'vtk.Rendering.Core.vtkImageSlice', 'vtk.Rendering.Misc.vtkFullScreenRenderWindow']
代码:
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </style>
</head>

<body>
    <div id="renderer"></div>
    <script src="https://unpkg.com/vtk.js"></script>
    <script>
        const vtkFullScreenRenderWindow = vtk.Rendering.Misc.vtkFullScreenRenderWindow;
        const vtkImageSlice = vtk.Rendering.Core.vtkImageSlice;//用于渲染二维图片切片的actor
        const vtkImageMapper = vtk.Rendering.Core.vtkImageMapper;
        const vtkImageData = vtk.Common.DataModel.vtkImageData;

        // 创建渲染窗口
        const fullScreenRenderer = vtkFullScreenRenderWindow.newInstance({ background: [0, 0, 0] });
        const renderer = fullScreenRenderer.getRenderer();
        const renderWindow = fullScreenRenderer.getRenderWindow();

        // 创建图像数据
        const imageData = vtkImageData.newInstance();
        imageData.setDimensions(100, 100, 1);
        imageData.setSpacing(1.0, 1.0, 1.0);
        imageData.setOrigin(0.0, 0.0, 0.0);

        // 设置图像数据的像素值
        const scalars = new Uint8Array(100 * 100);
        for (let i = 0; i < 100 * 100; i++) {
            scalars[i] = Math.random() * 255;
        }
        imageData.getPointData().setScalars(vtk.Common.Core.vtkDataArray.newInstance({ values: scalars, numberOfComponents: 1 }));

        // 创建映射器和 actor
        const mapper = vtkImageMapper.newInstance();
        mapper.setInputData(imageData);

        const actor = vtkImageSlice.newInstance();
        actor.setMapper(mapper);

        // 将 actor 添加到渲染器
        renderer.addActor(actor);
        renderer.resetCamera();
        renderWindow.render();
    </script>
</body>

</html>


            

==================================================

